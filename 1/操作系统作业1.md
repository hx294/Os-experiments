# 操作系统作业1

### 1.1 操作系统的三个主要目的是什么?

1. 为计算机用户提供一种以方便和高效的方式在计算机硬件上执行程序的环境
2. 资源分配器，根据需要分配计算机的单独资源以解决给定的问题。分配过程应尽可能公平和高效。
3. 作为一种控制程序，它有两个主要功能：（1）监督用户程序的执行，以防止计算机的错误和不当使用；（2）管理I/O设备的操作和控制。

### 1.5 内核模式和用户模式作为一种初级的保护（安全）系统，其区别是什么？

内核模式和用户模式之间的区别以以下方式提供了基本形式的保护。某些指令只能在CPU处于内核模式时执行。类似地，只有当程序在内核模式下执行时，才能访问硬件设备。只有当CPU处于内核模式时，才能控制何时启用或禁用中断。因此，当在用户模式下执行时，CPU的能力非常有限，从而加强了对关键资源的保护。

###  1.6下面哪个指令应该被赋予特权?

a. Set value of timer.
 b. Read the clock.
 c. Clear memory.
 d. Issue a trap instruction.
 e. Turn off interrupts.
 f. Modify entries in device-status table.
 g. Switch from user to kernel mode.
 h. Access I/O device.

**answers**: a,c,e,f,h

### 1.12 在多进程和分时环境中，几个用户同时共享系统。这种情况会导致各种安全问题。

#### （1）What are two such problems?

一个用户访问，破坏另一个用户的私人数据。一个用户可以阻止另一个用户完成任何事情

#### (2) Can we ensure the same degree of security in a time-shared machine as in a dedicated machine? Explain your answer.

可以。如果我们可以保证操作系统阻止用户间的数据共享（读取或写入，并且公平地享用计算机，这样我们才能保证拥有和专用机器相同的安全级别。

### 1.15 描述对称和非对称多处理之间的区别。多处理器系统的三个优点和一个缺点是什么?

**区别：**

在对称处理中，所有处理器是对等的，每个处理都可以执行其他处理器能执行的任务。而在非对称处理中，处理器会有不同的职责，具有不同的能力。

**多处理器系统的三个优点**

提高吞吐量，通过共享电源外设来节省资金，提高可靠性。

**缺点**

多处理器系统在硬件和软件上都更加复杂，如果不认真设计，可能导致硬件无法充分利用。需要额外的CPU周期来管理协作，因此每个CPU的效率会下降。

### 1.19 中断的目的是什么?中断与陷阱有何不同?陷阱可以由用户程序故意产生吗?如果有，是为了什么目的?

中断是从计算机的一个组件发送到另一个组件的电信号，表示发生了需要接收中断的组件采取一些行动的事件。陷阱是一种特定类型的中断，由软件和信号生成。一些不寻常的情况，例如数组索引越界或对操作系统服务的请求（系统调用）

用户程序可以生成陷阱，尽管并非所有高级编程语言都能直接为程序员提供这种功能。c就可以直接进行系统调用。陷阱用于通知CPU发生了一些不寻常的软件事件，或者程序请求了一些特殊服务。然后，CPU可以终止程序，或者中断程序的正常执行序列，并将控制权转移到特定的代码段。

### 1.22 许多SMP系统有不同级别的缓存;一个级别是每个处理核心的本地级别，另一个级别是所有处理核心之间共享的。为什么缓存系统是这样设计的?

不同的级别基于访问速度和大小，一般来说越接近cpu的缓存对速度要求越快。当然速度越快，缓存的价格越昂贵。所以较小更快的缓存位于cpu内部，较大较慢的缓存用于共享。

### 1.23 考虑一个类似于图1.6所示的SMP系统。用示例说明内存中的数据在每个本地缓存中具有不同的值。

![](D:\操作系统\1\42e6c9f157ab8b8fd9fce71f9554118d.png)

首先$CPU_0$ 和$CPU_1$ 从memory中取出某个变量A,分别保存在本地cache中。然后$CPU_0$对A进行修改，注意只是在cache中发生修改，显然这与$CPU_1$中缓存的A并没有关系。

### 1.27 请描述为移动设备设计操作系统与为传统pc设计操作系统的一些挑战。

1.移动设备的内存可能有限。如果是这样，内核的大小可能会受到限制，这可能会限制它所能提供的功能。此外，内核可能需要比在通用系统中更关心向进程分配内存。  

2.功耗是电池供电设备的一个重要问题，因此内核需要控制进程和I/O设备的功耗。

3.移动设备的CPU可能比台式机或服务器机器慢或不那么复杂。这意味着移动操作系统可能需要比大型系统的操作系统更关心进程之间CPU周期的有效分配。
